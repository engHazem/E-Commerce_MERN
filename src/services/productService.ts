import e from "express";
import productModel from "../models/productModel";

export const getAllProducts = async (): Promise<{ data: any[]; statuscode: number }> => {
    try {
        const products = await productModel.find();
        return { data: products, statuscode: 200 };
    } catch (error) {
        return { data: [], statuscode: 400 };
    }
}

export const seedInitialProducts = async () => {
    const initialProducts = [
        {
            title: "Dell Laptop",
            stock: 10,
            price: "15000",
            image: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMQEhUSExIWFhUVFRUWFhcXFhYYFhUVFhUWFxYXFRgYHSggGB0lGxUXITEhJikrLi4uFx8zODMsNygtLisBCgoKDg0OFxAQGjcdHyYtLS0tLS0uKy0tLSstLS0tLS0tLSsuLS0tLS03LS0rLS0tLS0tLTctLystLS0tLS0tLf/AABEIAMsA+AMBIgACEQEDEQH/xAAcAAEAAgIDAQAAAAAAAAAAAAAAAgMEBQEGBwj/xABFEAABAwEEBwMJBgUEAAcAAAABAAIRAwQSITEFQVFhcYGRIjKhBgcTQlJykrHRFGKCosHwM0Oy0uFTk8LxCCM0RHOjs//EABkBAQEBAQEBAAAAAAAAAAAAAAABAgMEBf/EACkRAQEAAgAFAQgDAQAAAAAAAAABAhEDEiExQVEEEyJxgaHw8WHR4RT/2gAMAwEAAhEDEQA/APcUREBERAREQERY1t0hSoC9Vqspja97Wjq4oMlF0zSXnS0VQ/8AdCodlFrqn5mi74rq2kvPlRH/AKex1amw1Hspjo2+fkmh64i+frZ54dI1TDG0aDccWtL3jDDF5g6vVXXdJ+WlrrfxbXXduDixp4tbdb4K6ZuUj6W0hpez2cTWr0qfvva35lda0h5ztHUpis6qRqp03Ho50N8V85C2STAAJ1nWd+zj/wBqipa3zBwjMQmmbxcXt9v88o/kWQnfVqBsfhYHT8S6zbfOrpCsbrKlKlP+lTBPCahdivOPSNf3pn2gfm04HlHFBRIxaQ4bswN7c+Ykb1dOOXtHpNfN2W3+UduqmX1rY4+9VYBvAEBp4Be8ebbTbrbo+jVqEmo29TqE94vpktl28tuuPvL5roWtwGDiOBIXrfmE0rJtVmJzLa7dpJ7FQ/8A5pU4HGzyysyewIiLL1iIiAiIgIiICIiAiIgIiICLyDyv86too16lGz0qbGscWl9QOc4kZkAEBuO2cl0bSXnCt9ab9teAdVKKcbgaYB6lXSbfSdptLKYvVHtY3a5waOpXXNIecPRtHO1sedlIOq+NMEDmV851zVqm+9tRx9uqTj+J5VZY7W5g3TePVshXTjfaOHPL2rSHnls7ZFGzVah1F5bTael4+C6zpLzw2138OnQojeHPd1cQPyrzV+94/N/asdzdkHnHgU0z/wBM8R223eWWkLSO1a67gdVM+jHSkG4cVoq1Oo4kmk9xOZcHEniYxWrDiDiI4rIbUVcs+NxPGvz6hsjx/Kd8Dj81UXavD/Cm9yrNoPrdob8+RzCMTPO964p1i3hrGo/Q71xaRGObTkf0Ow7v0UajcJbiNY1t47Rv+SWesWmQSNR38dqLrzFQcr++I9YDs/eA9Xjs6bInUuOzaBvaLpH4R2T0B3rHILHEHMHMeBHzUa3zfMY9WB+sZpVZel7c83DZtcN23ZwyoDkNSs4PvAn1hifvDW7iNfXau1eazS32bSdncTDahNF28Vey0fHcPJdLY+DIMEZFZdGvBDx2XtIc0tiLwxBu6jww3Kpj8GUr7DRYWhdIC02ejXblVpsqDdeaDHKYWasPeIiICIiAiIgIiICIiAiIg+f/ADvaLbQ0g6oWBzazW1BJIAdF14F0g5sB/GumC2Ed2Ge4A3qRiea9p8+GivSWWnaABepPunCezUgf1imvAn1yDq6D9FuV8/2ng82e2a+pOZVTnqhtoBzHQ/UFWBzTqd1H0Rx5NeFdQqglZRY0+s4cgf1CrNnb7Z+Ef3I6Y5SKm1SMJw2ZjorBUGto5Yf48FF1m++3ne+ig6mRmMNoII6jJRv4atJByMbj9frCx6hgwc1ySpAgiHcjrb9Ru/ZLJpCnUgyFzaGhroGAIa4bg5odG+JjkqnAtMHMK+2+qfuU/wChv+Ua18U/lEPXNrza72mN6tFz/iqAVkU4e26TBBJaTljmDGMTj124Czlu0ab4ggwfkr+w/vCD7TYHVuR5RxURYKsYU3OG1nbH5JhWs0fWzNMt9+Kf9ZCrnllh35vuiLENVVv4mvafyhw8VdTsJ/1KXxO/Vq5bRa3vPncwT1c6AOIlSFWmP5ZPF/8Aa0I5ZZ5Xtu/Sf49+8yWkvS6P9CXS6z1X052tcfSNI3dtwHur0BeEeYnSzWW2rQEtbXpAgF0/+ZSJIAwHqueeS93Wa+lw7vGUREUbEREBERAREQEREBERBq/KfRv2qyVqGt9Nwadjo7J5GDyXyXb2FryCIxyOYnVyy5L7IXzB51dDGz6QrNa0w5xqNABJu1O3l7xqD8Ksc+JNx0u8rmPUBZKh/lv5tIHUqQsrxqHxM+qrz3l9VocubyomMDgVzeRjlWkqF6DIXEqJKLI4tDYOGRAI4HMciCOSrDlfXE02n2S5vLB3zcsYFHTDrGTAeI1jun9Du36jxU7NUEXHskCRra5uMkAjfOBB4ZrGY5ZAIOfJwzA2Eax8vBGMp00mbNSOTqjeN1/yuR4ql1AsxkOblebMTqBnFp456pU3McBOY2jEc9nOFGnWIMg7toI2EZEbkZnN67XMephy5pupHNjgfuPgHk5rvCArPS0m5UyffqT/AEBqrlb/ABft/bHvKDis1lVxHYoNjdS9J4vvKL31NdFsf/AweLWgjkQhMrvt92V5IaW+yW6z2gmBTqtLjspns1PyF3VfWq+NXNDpLRBGJbMiBndJxw2HHedX1T5v9K/a9HWasTLjSDHna+nNN55uaTzWa93By3NOwoiKOwiIgIiICIiAiIgIiIC8h8/Oi8KNpA9qk48JeyeQqfEvXl1rzi6L+06PrsAlzW+kaNZdTN+BxiOasTKbmny+XKLnLiqLpI2H/pRa4SJxE47xrVfP5dFvbBG4NB4hoB8ZHJY4csu1CS6dZJnbJmQsBK6cPrjFspKhKI3pk2YyHM9qI94ThzBPMBYhCmCsh11/ez9oZ8x63gd6JLy1iAqxrlYbGfVc07punnegdCUFjqewT7sO/plC5Y3ylTqEYgwdyuFacw13Fok8Tn4qltmqf6b/AIHfRWCy1PYPPD5quWXL6rW1mjKmz8x+ZhPtbhlDd7WtaeoEqH2V+wc3sHzKj9ldruDf6SmfAOJ8EY1h5u/qVKxdiSTxM/NVFys9ANdRvIOJ5SAPFSaxg1Fx39kfCDP5kb3jOyurUIDXyb17snXA18jEc9i9z/8AD/pcVKFos+Xo6jarRqa2q2HNbuDqZP4wvB7U8nE8NwGwAZBd58yGlvQaTpsJ7Ndj6R2SRfaeN5jW/iUrvwZrq+l0RFl6RERAREQEREBERAREQFF7ZBG1SRB8m+Wui/slsq0YgMe5o93As/8ArcxaKV6x5/tEXK9O0AYVGQdl6mYM7y14/wBteSStPNxMeq+lVIw1bCAR4qTmsObY3tcR/VI8FjAq0FHK4+YkaDNTnDiA7xkfJQNmOoh3A49CATyXMrglCXL1UqymVaXh3ex3+t118/BcNobHA7j2T44eKLcvUDkLlIWc6y0DaXtPg2T4Kd6mzIXztdg3k0GTzPJVi2eOqpgLjDQSdgEnoFb9ndrAb7zmtPwkz4KFS1OIi9h7IhrfhEBU3lF1lfz9Mk0x/qM/P+jVx6PY9p5kf1ABY15LyLyX1W1GFuYzyOo8CMCpNKrp1S3I55jUeIOB5qzAiRhtGzeN3yw2ol35U1wpaItrqFanWZ3qb2Pb7zHBzfEBcVlRRpOcYaCeH7wR34fZ9oWO0tq02VWGWvY17Tta4AjwKuXSvM/pI19GUmu79AuoOGy5BYP9tzF3VZegREQEREBERAREQEREBERB0fzw6KFo0e50Y0XCp+HFr+jHOPIL5kcCCQcwY6L7L0hZW1qT6bhLXtc0jaCIIXyZpmzGhWfSc1t5jnNJNNkktcWuOInEgnmtRx4vSbaZTaVk+k+6z/bp/wBq49L91nwNHyAR5+a+iiVxKvlh9SPdc4H815RNJpycRucMPibM9EXmisFcgqRsztQvDa3tdYxHOFVKL0vZYXJQZeMTAAJJzgDdrMkADWSMlXKtsp741lmG8B7XEDpPIol6Ry6s0YNYBvd2nc57PRoUfTbm/Az6KhxRuOAx4I1OHF5qj2G/mHydC4BYdTh+IGOUY9VkUrM4ARAMYkiXAyYDdmEZQcTyyW0gB2nFw+9l45Is4eV/bAZRacA5x/B9HFZdCxRMuzBGW3DH59Fs7Fo6rUwp0zG2Lrepz5St9YfJMnGo/wDCz9XHPkArpv3c83bqYszG4ux45LeaN0DaK127ScxhMNc9rmNO25I7Xy3ruujNH0bKJZTYHD+YW36mP3nSW8oWzo26HSBfMSXTeOU44j5zmrp06Ts7F5t/J46OovmoXuqlrnCAGNLQRLRnJESSfVGWvuFK1NcJBB3gyOoXm77fUfTBe+8ycYMEAZZOAnaQJxiFdZrVUY9xpyYGM3mOBiQ0h0zMzEAbU5YbekgoupaN8pJwf3hnAgjix2PPXqXYLNpFrxIII2j9RmFm4tSs1Fw1wORlcrKiIiAiIgIiICIiAvnbz2aJ9BbnVAOzVDX84uOH5Wn8a+iV5n59NEelsjK4GNJ90n7tSB/WKasZym4+fZSVGUVeTSUpKiiGkgVaaxPeAd7wx+IdrxUWUHHVHFXsso1mUa91aoNNh9pv5h+hHijbG4EQRhjOI6SAVn2eiXGGNLj90T1OrmtxY/Jyq/F5DBs7zvDAdSq648PXetE6zNdi4SdZynjGfFZVjsjn4UqZcPuiG/EcPFdvsXk5RZBIvna/HwyHRbemGjCQIGvDptV01NTpHVLH5L1HY1Hho2NxPxHAdCt7Y9B0KUG6C7U52JndOXJZxeYPZMbROI3YTPLqj3djvtcNYwxGuYE890K6NrjDSARnsgn4QZRlQkluGXrAgjgAcRxhQdTMBzWubtgjjlkcN87Fy6DdIN47HNwnZGowNeOeaCdm2EOdGQDpbvz+RWZZ39sm9cO4kTGvtYEZauYWOWYgkRqlknhyx2EcFkU3QZBBBgdskdqMIcZmdgETOIyQXhsNvXe0D/EB3ZukEgROotG1WugvaXEOlvZLIBiJmAb0cCQdYRziAL74GprZEnd6xPCFIul4DQWGAcSAXDObhHaxOJMHegqY0uZg0OAdgYF8aiey4Cd4LTuVtG0Oa4Opuc7DXea4czhyIBO1KVnL3uFw1HYTdAOGN0PAi7+KRvW2peT7qkGpDAMg0zUA2XhAZyLkE7H5S3TDzB1zDXdMnDeMF2azaSlocQYORgg82la2y2CnSxa3H2nEudyJy4CFc4qWbXbdUqzXYtM/vWprr0wZGB2hZVHSbm4OF4bRgfofBZuK8zboqbPamP7px2a+iuWWhERAREQFq/KfRv2qy1qHt03AHY6OyeRg8ltEIQfGlsplj3AiDOR1bRyOHJRZRcdXXBd084+ihZtJVmAd93pGQJJFSXGBn3/SZbFq7LoOtUzFwbXZ9B+sLTl7ub3WmZZRrPRXMYAQGjE5AAlx4AYldusHkxSBmqaj8oa1wY0nXeIBdHArsFjpikCKNNtIa/RthxH3nmXHqrpqanZ0ayaBrVMwGDEG93gQYIujLgSCt3ZPJmk3F8vP3u78IwPOVvWYmO1emLt0l0ncuGu9RwaJ1kEzuiYndJWtG0admDG4Nho2DDoFZn3O1rOBiPeyEc1ANgx3xG0mOpg57iFOowtdJBZtjHhew8Y1ZqoBwLsTcI3kYbZOBHLCdS5oyZbdDtU46xkQZ275nUpAdrsG97wzzgzjnzCOaL3bw3jxBMz1gKDilhLSXAagMQdmOeeqeSlQBgxBG054bYz8FzTwdhGM94AE8NZ5jmpGmGu7Qmc7pxMZ4DvYa8VRCnTbBEOByiMBwzaBluxV1Nt9sG7hgRGO4EZCMNq5pggy3sjYYPQCI8OGtTbRDpEXnRsBIHTsidvNBxTi7kcwAb844EXXE4Zbidiy6lN7Wi+ZaRjF2YyE+0McgGnYFk2LRFSoAHHDGYaCYygu7vzG5dk0boanTghoLhke8Rwc7u8GwoNDZNFVKjpptLGnAlzbgIAyGAfsEgELeWTydYMap9JjN2A1kgQDrcTjmTyW6ZS/Y+pRzSN/z+hQQpUmsF1jQ1oyDQAByCFc3pXBQRKrcplVlBFyrcplRKCBWXZ9Jvbge0N+fX6rEK4Iwk4DaVBv7NbmVMAYOw4H/PJFpdH0/Sns5D1iDH4dqLNkblrsaIiyoiIg6z5SeSlG01mWpzbz6bHMj2mO35ggiQRv2ledW2wtbWqUqZcSwXixwh/o5i+NT25SRlrAkT7Wtbb9Ete4VGQ2oJgxqOYO4wOi1MtJY8dDi3MA78cN+C4e0B2og4kNJHMNnEayu16T0Ncuh8iqXXbwZ2HyeyXXe6cgXAATiQM1pK1gfTcRF0jNpGH78D4rbDXvEQQLo26o3gYRvOSnVGUOvGBIgxwMDDjirBBJvudOyIJPI/qVy5l7JpaBkZxE5xhjwI2KiFfGJaGga8cOc9mduS5cACIIdjGMxOeeTTE9Oak/e4zq15fdGYUjjDSGiRrkjhljEcRsQcVmEw4tjZGcbid+Y+aFowu3p2kbcwZzG4Y8FZVs9190RUjY4u/ECcDxMZZnJX07G6o6QI90yeBJ7McSdeWaDHe2cXERhhAjDbP+FZSpH1W56zhP6u4gFbazaJAxccd2J6nAcgFtLPZQ3IRvzJ4koNPZtEudi7Ab+yOgM9SOC3li0Y1oAuzxEN5NGCyaVJZlNqgnRojj8uiy2KpitCCYRcSioi9oP7xVLgRv+fTX+8FeVAlQUSolSqxz2/vNY9otLWCXED96ggmVXVeGiXEAbSo0adat/DZdb7bx8m/VbKyaCY03nk1H7XZDgMgs3JZGrompV/hU8Pbfg3kMytlZtBNm9VcajthwaODVtwIXKza1I4a0AQBARcoooiIgIiICIiCm02ZtQXXCQuu6T0SWiHAvYMiO+zhtH7xXaEIVl0aeZ27ROEgy3U4YQf0O4+K09qs7mReJLRrGAHHZxEBenW7REy6n2XHMeq7iF1+0WIE3SC13s7d7DrW5dsWOmilj2ZA2kQDxGbjvE75iFnUNGvfi7I+0Ib8OZ8Fu2WQNMgY7dfUq8MWkYFn0axoxx3RDZ90frKzWU4VoaphqCDWK1ghchqm0KC6kJWQwLGaFkU37UF7VMKAUr0IJrglVPqrAtGkmtMCXOOQGJKDYPqrCtVvazM46gMSeAC4o6Pr1sXH0Terz+g8Vt7DoilRxDZdrccSeZWbk1I09GzV6+Q9G3a7Fx4DUtrYdC06ZvEX3+07E8ti2SLNu10IiKKIiICIiAiIgIiICIiAiIgLHtliZVEOHA6xwKyEQdYttifS73abqeBiPeGvisW5rGvKMjwXcCJzWnt2h4l1LDWWnun6HeFqZM2NQGqQC5BxgghwzBzH1G8KQC2yAKYC4AUgEEgFNqrc8DMrFNuLjdpNLzuyHE5BBsPSRrhYdXSIm6wF7tgxPPZzWRZtBVKmNZ8D2Wn5n/pbyyWKnSEMaAs3JqYtFQ0RWrY1XXG+y3vczq/eK3Vi0bTojsNE6zmTxKy0WbWtCIigIiICIiAiIgIiICIiAiIgIiICIiAiIgIiIMS3WBlUYjEZEZg8Vo7TZX0j2sW+0P+Q1cQuzrhwnNWXSWOp/aWxM7t6rZXfUMUmE79XX6SuxO0bSLp9G3os1jA3AADgrzJytBZfJ0uxrPn7owHPWVvLPZmUxDGgDcFaiztoREQEREBERAREQEREBERAREQf/2Q=="
        }
    ];

    try {
        const products = await getAllProducts();
        if (products.data.length === 0) {
            await productModel.insertMany(initialProducts);
        }
    } catch (error) {
        return { data: error, statuscode: 400 };
    }
}
